{% extends "base.html" %}
{% block title %}Checkout — Parini{% endblock %}
{% block main %}
<div class="checkout-page" style="max-width:900px;margin:0 auto;padding:2rem 1.5rem;">
  <h1 class="section-title" style="text-align:left;margin-bottom:1.5rem;">Checkout</h1>
  <div class="checkout-layout" style="display:grid;grid-template-columns:1fr 280px;gap:2rem;align-items:start;">
    <form action="{{ url_for('checkout') }}" method="post" class="checkout-form" style="display:flex;flex-direction:column;gap:1rem;">
      <h3 style="font-size:1.1rem;margin-bottom:0.5rem;">Shipping</h3>
      <label style="font-size:0.85rem;font-weight:500;color:var(--color-muted);">Full name</label>
      <input type="text" name="name" required placeholder="Jane Doe" value="{{ user_data.name if user_data else '' }}" style="padding:0.5rem 1rem;font-size:1rem;border:2px solid var(--color-sand);border-radius:var(--radius);">
      <label style="font-size:0.85rem;font-weight:500;color:var(--color-muted);">Email</label>
      <input type="email" name="email" required placeholder="jane@example.com" value="{{ user_data.email if user_data else '' }}" style="padding:0.5rem 1rem;font-size:1rem;border:2px solid var(--color-sand);border-radius:var(--radius);">
      <label style="font-size:0.85rem;font-weight:500;color:var(--color-muted);">Address</label>
      <input type="text" name="address" required placeholder="Street Address" value="{{ user_data.address if user_data else '' }}" style="padding:0.5rem 1rem;font-size:1rem;border:2px solid var(--color-sand);border-radius:var(--radius);">
      <div class="checkout-row" style="display:grid;grid-template-columns:1fr 1fr;gap:1rem;">
        <div>
          <label style="font-size:0.85rem;font-weight:500;color:var(--color-muted);">City</label>
          <input type="text" name="city" required placeholder="Chennai" value="{{ user_data.city if user_data else '' }}" style="width:100%;padding:0.5rem 1rem;font-size:1rem;border:2px solid var(--color-sand);border-radius:var(--radius);">
        </div>
        <div>
          <label style="font-size:0.85rem;font-weight:500;color:var(--color-muted);">PIN Code</label>
          <input type="text" name="zip" required placeholder="601301" value="{{ user_data.zip_code if user_data else '' }}" style="width:100%;padding:0.5rem 1rem;font-size:1rem;border:2px solid var(--color-sand);border-radius:var(--radius);">
        </div>
      </div>
      <button type="submit" class="btn btn-primary btn-block">Place Order</button>
    </form>
    <div class="checkout-summary" style="padding:1rem;background:var(--color-sand);border-radius:var(--radius);position:sticky;top:1rem;">
      <h3 style="font-size:1rem;margin-bottom:0.5rem;">Order Summary</h3>
      <p>Total: <strong>₹{{ "{:,}".format(total) }}</strong></p>
      <p class="checkout-note" style="font-size:0.85rem;color:var(--color-muted);margin-top:0.5rem;">Free shipping on orders over ₹2,000.</p>
    </div>
  </div>
</div>
{% endblock %}
